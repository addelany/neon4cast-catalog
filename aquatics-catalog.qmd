---
title: "Aquatics"
editor: visual
---

Description of dataset

::: panel-tabset
## Details

```{r eval=FALSE}
#collection <- jsonlite::read_json("https://github.com/addelany/neon4cast-catalog/blob/main/output.json")
collection <- jsonlite::read_json("output.json")

```

Dataset Description: `r collection$description`

STAC collection:
`r collection$stac_extensions`

Providers:
```{r eval=FALSE}
for (i in seq.int(1, length(collection$providers))){
  print(i)
  provider_info <- c(collection$providers[[i]]$name, collection$providers[[i]]$url, c(unlist(collection$providers[[i]]$roles)))
  print(provider_info)
}
```

License: `r collection$license`

## Notebook

[![Binder](https://mybinder.org/badge_logo.svg)](https://mybinder.org/v2/gh/eco4cast/neon4cast-catalog/HEAD?urlpath=rstudio)

```{r echo=FALSE, message = FALSE}
library(tidyverse)
```

```{r}
s3 <- arrow::s3_bucket("neon4cast-forecasts/parquet/aquatics/model_id=flareGLM/reference_datetime=2023-02-24", 
                       endpoint_override = "data.ecoforecast.org",
                       anonymous = TRUE)

d <- arrow::open_dataset(s3) |> collect()
```

```{r}
d |> 
  filter(site_id == "BARC",
         variable == "temperature") |> 
  ggplot(aes(x = datetime, y = prediction, group = parameter)) +
  geom_line()

```
:::
